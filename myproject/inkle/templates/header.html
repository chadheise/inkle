{% load truncate_characters from extraTags %}

<div id="header">
    <div class="container_24">
        <!-- Logo -->
        <div class="grid_5 suffix_1">
            <a id="logoLink" href="/" title="Home"><img id="logo" src="{{ STATIC_URL }}/media/images/main/inkleLogo.png" /></a>
        </div>
        
        {% if member %}
            <!-- Search bar -->
            <div id="headerSearch" class="grid_11 alpha">
                <input id="headerSearchInput" type="text" maxlength="100" />
                <img id="headerSearchButton" src="{{ STATIC_URL }}/media/images/main/searchButton.png" title="Search" />
                <div id="headerSearchSuggestions" class="suggestions"></div>
            </div>

            <!-- Member name and header dropdown -->
            <div id="headerMemberSection" class="grid_7 alpha omega">
                <div>
                    {% if member.requested.all|length %}
                        <img id="headerDropdownButton" class="headerDropdownButtonHighlighted" src="{{ STATIC_URL }}/media/images/main/downArrow.png" />
                    {% else %}
                        <img id="headerDropdownButton" src="{{ STATIC_URL }}/media/images/main/downArrow.png" />
                    {% endif %}
                    <div id="headerMemberContainer">
                        <a href="/manage/circles/" title="Profile">
                            <p id="headerMemberName">{{ member.get_full_name|truncate_characters:25 }}</p>
                            <div id="headerMemberImageContainer">
                                <img id="headerMemberImage" src="{{ STATIC_URL }}/media/images/members/{{ member.id }}.jpg" />
                            </div>
                        </a>
                    </div>
                </div>
                <div id="headerDropdown">
                    <a href="/manage/notifications/">
                        {% if member.requested.all|length %}
                            <p class="headerDropdownOption headerDropdownOptionHighlighted">Notifications <span id="notificationsCount">({{ member.requested.all|length }})</span></p>
                        {% else %}
                            <p class="headerDropdownOption">Notifications</p>
                        {% endif %}
                        
                    </a>
                    <a href="/editProfile/">
                        <p class="headerDropdownOption">Edit profile</p>
                    </a>
                    <a href="/account/">
                        <p class="headerDropdownOption">Manage account</p>
                    </a>
                    <a href="/logout/">
                        <p class="headerDropdownOption">Logout</p>
                    </a>
                </div>
            </div>
        {% endif %}
    </div>
</div>
