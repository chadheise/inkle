<?xml version="1.0" encoding="UTF-8" ?>

<invitations number={{member.invitations.all|length}}>
{% for invitation in member.invitations.all %}
    <invitation>
        <id>{{ invitation.id }}</id>
        <locationType>
            {% if invitation.inkling.member_place %}
                member
            {% else %}
                location
            {% endif %}
        </locationType>
        <location>
            {% if invitation.inkling.member_place %}
                {{ invitation.inkling.member_place.get_full_name }}'s Place
            {% else %}
                {{ invitation.inkling.location.name }}
            {% endif %}
        </location>
        <locationID>
            {% if invitation.inkling.member_place %}
                {{ invitation.inkling.member_place.id }}
            {% else %}
                {{ invitation.inkling.location.id }}
            {% endif %}
        </locationID>
        <from>{{ invitation.from_member.get_full_name }}</from>
        <type>{{ invitation.inkling.get_formatted_category|lower }}</type> 
        <date>{{ invitation.inkling.date|date:"m/j/Y"}}</date>
        <description>
            {% if invitation.description %}
                {{ invitation.description }}
            {% endif %}
        </description>
    </invitation>
{% empty %}
    <invitations number=0>
    </invitations>
{% endfor %}
</invitations>
